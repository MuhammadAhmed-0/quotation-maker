<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Quotation Maker</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1300px;
            margin: 0 auto;
            background: white;
            border-radius: 25px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.12);
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0;
            min-height: 600px;
        }

        .form-section {
            padding: 45px;
            background: linear-gradient(135deg, #fafafb 0%, #f7fafc 100%);
            border-right: 2px solid #e2e8f0;
        }


        .preview-section {
            padding: 45px;
            background: linear-gradient(135deg, #ffffff 0%, #fafbff 100%);
            position: relative;
        }

        .section-title {
            font-size: 1.6em;
            color: #2d3748;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 700;
        }

        .section-title::before {
            content: '';
            width: 4px;
            height: 30px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 2px;
        }

        .form-group {
            margin-bottom: 28px;
            animation: fadeInUp 0.6s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #4a5568;
            font-weight: 600;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 1em;
            transition: all 0.3s ease;
            background: white;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            transform: translateY(-1px);
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .service-item {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            padding: 25px;
            transition: all 0.3s ease;
            position: relative;
            overflow: visible;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .service-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transform: scaleX(0);
            transition: transform 0.3s ease;
            border-radius: 15px 15px 0 0;
        }

        .service-item:hover {
            border-color: #667eea;
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.2);
        }

        .service-item:hover::before {
            transform: scaleX(1);
        }

        .service-header {
            display: flex;
            align-items: center;
            margin-bottom: 18px;
            padding-bottom: 8px;
            border-bottom: 1px solid rgba(226, 232, 240, 0.5);
        }

        .service-checkbox {
            margin-right: 15px;
            width: 22px;
            height: 22px;
            accent-color: #667eea;
        }

        .service-name {
            font-weight: 700;
            color: #2d3748;
            font-size: 1.15em;
            line-height: 1.3;
        }

        .service-details {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 18px;
        }

        .service-details select,
        .service-details input {
            padding: 10px 12px;
            font-size: 0.95em;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            transition: all 0.2s ease;
            min-width: 0;
            background: white;
        }

        .service-details select:focus,
        .service-details input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.1);
        }

        .service-package {
            width: 100%;
            font-weight: 500;
        }

        .service-custom-price {
            margin-top: 8px;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 16px 32px;
            border-radius: 25px;
            font-size: 1.05em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.3);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.5);
        }

        .btn:active {
            transform: translateY(0);
        }

        .quote-preview {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.07);
            font-family: 'Times New Roman', serif;
            line-height: 1.6;
        }

        .quote-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #667eea;
        }

        .company-name {
            font-size: 2em;
            color: #2d3748;
            margin-bottom: 5px;
            font-weight: 700;
        }

        .quote-title {
            font-size: 1.4em;
            color: #667eea;
            margin: 15px 0;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .quote-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .detail-section h4 {
            color: #4a5568;
            margin-bottom: 10px;
            font-size: 1.1em;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .services-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            font-size: 0.95em;
        }

        .services-table th {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px 10px;
            text-align: left;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .services-table td {
            padding: 12px 10px;
            border-bottom: 1px solid #e2e8f0;
        }

        .services-table tr:nth-child(even) {
            background-color: #f8fafc;
        }

        .total-section {
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .total-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .final-total {
            font-size: 1.4em;
            font-weight: 700;
            color: #2d3748;
            border-top: 2px solid #667eea;
            padding-top: 15px;
            margin-top: 15px;
        }

        .quote-footer {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #e2e8f0;
            text-align: center;
            color: #4a5568;
            font-style: italic;
        }

        .action-buttons {
            display: flex;
            gap: 18px;
            margin-top: 25px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .currency-symbol {
            font-weight: 600;
            color: #667eea;
        }

        .company-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
            margin-bottom: 5px;
        }

        .company-logo {
            max-height: 60px;
            max-width: 100px;
            border-radius: 8px;
        }

        .service-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }

            .form-section {
                border-right: none;
                border-bottom: 2px solid #e2e8f0;
            }

            .services-grid {
                grid-template-columns: 1fr;
            }

            .quote-details {
                grid-template-columns: 1fr;
            }

            .action-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>Professional Quotation Maker</h1>
            <p>Create stunning quotes for Digital Marketing, Web Development & ERP Services</p>
        </div>

        <div class="main-content">
            <div class="form-section">
                <h2 class="section-title">Quote Configuration</h2>

                <div class="form-group">
                    <label>Your Company Name</label>
                    <input type="text" id="companyName" placeholder="Enter your company name" value="Empire Digisol">
                </div>

                <div class="form-group">
                    <label>Client Name</label>
                    <input type="text" id="clientName" placeholder="Enter client name">
                </div>

                <div class="form-group">
                    <label>Client Email</label>
                    <input type="email" id="clientEmail" placeholder="Enter client email">
                </div>

                <div class="form-group">
                    <label>Quote Number</label>
                    <input type="text" id="quoteNumber" placeholder="QT-001">
                </div>

                <div class="form-group">
                    <label>Currency</label>
                    <select id="currency">
                        <option value="$">USD ($)</option>
                        <option value="€">EUR (€)</option>
                        <option value="£">GBP (£)</option>
                        <option value="₹">INR (₹)</option>
                        <option value="¥">JPY (¥)</option>
                        <option value="₨">PKR (₨)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Tax Rate (%) - Optional</label>
                    <input type="number" id="taxRate" placeholder="0" value="0" min="0" max="100" step="0.01">
                </div>

                <div class="form-group">
                    <label>Valid Until</label>
                    <input type="date" id="validUntil">
                </div>

                <div class="form-group">
                    <label>Company Logo</label>
                    <input type="file" id="companyLogo" accept="image/*">
                    <div id="logoPreview" style="margin-top: 10px; display: none;">
                        <img id="logoImage"
                            style="max-width: 200px; max-height: 100px; border-radius: 8px; border: 2px solid #e2e8f0;">
                    </div>
                </div>

                <h3 class="section-title" style="margin-top: 30px;">Select Services</h3>

                <div class="services-grid">
                    <div class="service-item">
                        <div class="service-header">
                            <input type="checkbox" class="service-checkbox" data-service="webdev">
                            <span class="service-name">Web Development</span>
                        </div>
                        <div class="service-details">
                            <select class="service-package" data-service="webdev">
                                <option value="">Select Package</option>
                                <option value="basic">Basic Website</option>
                                <option value="standard">Standard Website</option>
                                <option value="premium">E-commerce Premium</option>
                                <option value="custom">Custom Package</option>
                            </select>
                            <div class="service-row">
                                <input type="number" placeholder="Enter Price" class="service-price"
                                    data-service="webdev">
                                <select class="service-type" data-service="webdev">
                                    <option value="one-time">One Time</option>
                                    <option value="ongoing">Ongoing</option>
                                    <option value="days">X Days Project</option>
                                    <option value="weeks">X Weeks Project</option>
                                    <option value="months">X Months Project</option>
                                </select>
                            </div>
                            <input type="number" placeholder="Enter duration" class="service-duration"
                                data-service="webdev" style="display: none;" min="1">
                            <textarea placeholder="Describe what this service will include..."
                                class="service-description" data-service="webdev" rows="2"
                                style="margin-top: 8px; width: 100%; padding: 10px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 0.9em; resize: vertical;"></textarea>
                            <input type="number" placeholder="Discount %" class="service-discount"
                                data-service="webdev" min="0" max="100" step="0.01"
                                style="margin-top: 8px; width: 100%; padding: 10px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 0.9em;">
                        </div>
                    </div>

                    <div class="service-item">
                        <div class="service-header">
                            <input type="checkbox" class="service-checkbox" data-service="seo">
                            <span class="service-name">SEO Services</span>
                        </div>
                        <div class="service-details">
                            <select class="service-package" data-service="seo">
                                <option value="">Select Package</option>
                                <option value="starter">SEO Starter</option>
                                <option value="professional">SEO Professional</option>
                                <option value="enterprise">SEO Enterprise</option>
                                <option value="custom">Custom Package</option>
                            </select>
                            <div class="service-row">
                                <input type="number" placeholder="Enter Price" class="service-price" data-service="seo">
                                <select class="service-type" data-service="seo">
                                    <option value="one-time">One Time</option>
                                    <option value="ongoing">Ongoing</option>
                                    <option value="days">X Days Project</option>
                                    <option value="weeks">X Weeks Project</option>
                                    <option value="months">X Months Project</option>
                                </select>
                            </div>
                            <input type="number" placeholder="Enter duration" class="service-duration"
                                data-service="seo" style="display: none;" min="1">
                            <textarea placeholder="Describe what this service will include..."
                                class="service-description" data-service="seo" rows="2"
                                style="margin-top: 8px; width: 100%; padding: 10px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 0.9em; resize: vertical;"></textarea>
                            <input type="number" placeholder="Discount %" class="service-discount"
                                data-service="seo" min="0" max="100" step="0.01"
                                style="margin-top: 8px; width: 100%; padding: 10px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 0.9em;">
                        </div>
                    </div>

                    <div class="service-item">
                        <div class="service-header">
                            <input type="checkbox" class="service-checkbox" data-service="social">
                            <span class="service-name">Social Media Marketing</span>
                        </div>
                        <div class="service-details">
                            <select class="service-package" data-service="social">
                                <option value="">Select Package</option>
                                <option value="basic">Basic Management</option>
                                <option value="fullservice">Full Service</option>
                                <option value="premium">Premium Package</option>
                                <option value="custom">Custom Package</option>
                            </select>
                            <div class="service-row">
                                <input type="number" placeholder="Enter Price" class="service-price"
                                    data-service="social">
                                <select class="service-type" data-service="social">
                                    <option value="one-time">One Time</option>
                                    <option value="ongoing">Ongoing</option>
                                    <option value="days">X Days Project</option>
                                    <option value="weeks">X Weeks Project</option>
                                    <option value="months">X Months Project</option>
                                </select>
                            </div>
                            <input type="number" placeholder="Enter duration" class="service-duration"
                                data-service="social" style="display: none;" min="1">
                            <textarea placeholder="Describe what this service will include..."
                                class="service-description" data-service="social" rows="2"
                                style="margin-top: 8px; width: 100%; padding: 10px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 0.9em; resize: vertical;"></textarea>
                            <input type="number" placeholder="Discount %" class="service-discount"
                                data-service="social" min="0" max="100" step="0.01"
                                style="margin-top: 8px; width: 100%; padding: 10px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 0.9em;">
                        </div>
                    </div>

                    <div class="service-item">
                        <div class="service-header">
                            <input type="checkbox" class="service-checkbox" data-service="ppc">
                            <span class="service-name">PPC Advertising</span>
                        </div>
                        <div class="service-details">
                            <select class="service-package" data-service="ppc">
                                <option value="">Select Package</option>
                                <option value="starter">PPC Starter</option>
                                <option value="growth">Growth Package</option>
                                <option value="enterprise">Enterprise</option>
                                <option value="custom">Custom Package</option>
                            </select>
                            <div class="service-row">
                                <input type="number" placeholder="Enter Price" class="service-price" data-service="ppc">
                                <select class="service-type" data-service="ppc">
                                    <option value="one-time">One Time</option>
                                    <option value="ongoing">Ongoing</option>
                                    <option value="days">X Days Project</option>
                                    <option value="weeks">X Weeks Project</option>
                                    <option value="months">X Months Project</option>
                                </select>
                            </div>
                            <input type="number" placeholder="Enter duration" class="service-duration"
                                data-service="ppc" style="display: none;" min="1">
                            <textarea placeholder="Describe what this service will include..."
                                class="service-description" data-service="ppc" rows="2"
                                style="margin-top: 8px; width: 100%; padding: 10px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 0.9em; resize: vertical;"></textarea>
                            <input type="number" placeholder="Discount %" class="service-discount"
                                data-service="ppc" min="0" max="100" step="0.01"
                                style="margin-top: 8px; width: 100%; padding: 10px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 0.9em;">
                        </div>
                    </div>

                    <div class="service-item">
                        <div class="service-header">
                            <input type="checkbox" class="service-checkbox" data-service="content">
                            <span class="service-name">Content Marketing</span>
                        </div>
                        <div class="service-details">
                            <select class="service-package" data-service="content">
                                <option value="">Select Package</option>
                                <option value="basic">Basic Content</option>
                                <option value="standard">Standard Package</option>
                                <option value="premium">Premium Content</option>
                                <option value="custom">Custom Package</option>
                            </select>
                            <div class="service-row">
                                <input type="number" placeholder="Enter Price" class="service-price"
                                    data-service="content">
                                <select class="service-type" data-service="content">
                                    <option value="one-time">One Time</option>
                                    <option value="ongoing">Ongoing</option>
                                    <option value="days">X Days Project</option>
                                    <option value="weeks">X Weeks Project</option>
                                    <option value="months">X Months Project</option>
                                </select>
                            </div>
                            <input type="number" placeholder="Enter duration" class="service-duration"
                                data-service="content" style="display: none;" min="1">
                            <textarea placeholder="Describe what this service will include..."
                                class="service-description" data-service="content" rows="2"
                                style="margin-top: 8px; width: 100%; padding: 10px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 0.9em; resize: vertical;"></textarea>
                            <input type="number" placeholder="Discount %" class="service-discount"
                                data-service="content" min="0" max="100" step="0.01"
                                style="margin-top: 8px; width: 100%; padding: 10px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 0.9em;">
                        </div>
                    </div>

                    <div class="service-item">
                        <div class="service-header">
                            <input type="checkbox" class="service-checkbox" data-service="email">
                            <span class="service-name">Email Marketing</span>
                        </div>
                        <div class="service-details">
                            <select class="service-package" data-service="email">
                                <option value="">Select Package</option>
                                <option value="basic">Basic Campaigns</option>
                                <option value="advanced">Advanced Automation</option>
                                <option value="enterprise">Enterprise</option>
                                <option value="custom">Custom Package</option>
                            </select>
                            <div class="service-row">
                                <input type="number" placeholder="Enter Price" class="service-price"
                                    data-service="email">
                                <select class="service-type" data-service="email">
                                    <option value="one-time">One Time</option>
                                    <option value="ongoing">Ongoing</option>
                                    <option value="days">X Days Project</option>
                                    <option value="weeks">X Weeks Project</option>
                                    <option value="months">X Months Project</option>
                                </select>
                            </div>
                            <input type="number" placeholder="Enter duration" class="service-duration"
                                data-service="email" style="display: none;" min="1">
                            <textarea placeholder="Describe what this service will include..."
                                class="service-description" data-service="email" rows="2"
                                style="margin-top: 8px; width: 100%; padding: 10px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 0.9em; resize: vertical;"></textarea>
                            <input type="number" placeholder="Discount %" class="service-discount"
                                data-service="email" min="0" max="100" step="0.01"
                                style="margin-top: 8px; width: 100%; padding: 10px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 0.9em;">
                        </div>
                    </div>

                    <div class="service-item">
                        <div class="service-header">
                            <input type="checkbox" class="service-checkbox" data-service="mobile">
                            <span class="service-name">Mobile App Development</span>
                        </div>
                        <div class="service-details">
                            <select class="service-package" data-service="mobile">
                                <option value="">Select Package</option>
                                <option value="ios">iOS App</option>
                                <option value="android">Android App</option>
                                <option value="crossplatform">Cross-Platform App</option>
                                <option value="custom">Custom Package</option>
                            </select>
                            <div class="service-row">
                                <input type="number" placeholder="Enter Price" class="service-price"
                                    data-service="mobile">
                                <select class="service-type" data-service="mobile">
                                    <option value="one-time">One Time</option>
                                    <option value="ongoing">Ongoing</option>
                                    <option value="days">X Days Project</option>
                                    <option value="weeks">X Weeks Project</option>
                                    <option value="months">X Months Project</option>
                                </select>
                            </div>
                            <input type="number" placeholder="Enter duration" class="service-duration"
                                data-service="mobile" style="display: none;" min="1">
                            <textarea placeholder="Describe what this service will include..."
                                class="service-description" data-service="mobile" rows="2"
                                style="margin-top: 8px; width: 100%; padding: 10px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 0.9em; resize: vertical;"></textarea>
                            <input type="number" placeholder="Discount %" class="service-discount"
                                data-service="mobile" min="0" max="100" step="0.01"
                                style="margin-top: 8px; width: 100%; padding: 10px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 0.9em;">
                        </div>
                    </div>

                    <div class="service-item">
                        <div class="service-header">
                            <input type="checkbox" class="service-checkbox" data-service="erp">
                            <span class="service-name">ERP Solutions</span>
                        </div>
                        <div class="service-details">
                            <select class="service-package" data-service="erp">
                                <option value="">Select Package</option>
                                <option value="basic">Basic ERP System</option>
                                <option value="standard">Standard ERP System</option>
                                <option value="enterprise">Enterprise ERP System</option>
                                <option value="custom">Custom Package</option>
                            </select>
                            <div class="service-row">
                                <input type="number" placeholder="Enter Price" class="service-price" data-service="erp">
                                <select class="service-type" data-service="erp">
                                    <option value="one-time">One Time</option>
                                    <option value="ongoing">Ongoing</option>
                                    <option value="days">X Days Project</option>
                                    <option value="weeks">X Weeks Project</option>
                                    <option value="months">X Months Project</option>
                                </select>
                            </div>
                            <input type="number" placeholder="Enter duration" class="service-duration"
                                data-service="erp" style="display: none;" min="1">
                            <textarea placeholder="Describe what this service will include..."
                                class="service-description" data-service="erp" rows="2"
                                style="margin-top: 8px; width: 100%; padding: 10px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 0.9em; resize: vertical;"></textarea>
                            <input type="number" placeholder="Discount %" class="service-discount"
                                data-service="erp" min="0" max="100" step="0.01"
                                style="margin-top: 8px; width: 100%; padding: 10px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 0.9em;">
                        </div>
                    </div>

                    <div class="service-item">
                        <div class="service-header">
                            <input type="checkbox" class="service-checkbox" data-service="ecommerce">
                            <span class="service-name">E-commerce Development</span>
                        </div>
                        <div class="service-details">
                            <select class="service-package" data-service="ecommerce">
                                <option value="">Select Package</option>
                                <option value="basic">Basic Online Store</option>
                                <option value="advanced">Advanced Store</option>
                                <option value="enterprise">Enterprise Store</option>
                                <option value="custom">Custom Package</option>
                            </select>
                            <div class="service-row">
                                <input type="number" placeholder="Enter Price" class="service-price"
                                    data-service="ecommerce">
                                <select class="service-type" data-service="ecommerce">
                                    <option value="one-time">One Time</option>
                                    <option value="ongoing">Ongoing</option>
                                    <option value="days">X Days Project</option>
                                    <option value="weeks">X Weeks Project</option>
                                    <option value="months">X Months Project</option>
                                </select>
                            </div>
                            <input type="number" placeholder="Enter duration" class="service-duration"
                                data-service="ecommerce" style="display: none;" min="1">
                            <textarea placeholder="Describe what this service will include..."
                                class="service-description" data-service="ecommerce" rows="2"
                                style="margin-top: 8px; width: 100%; padding: 10px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 0.9em; resize: vertical;"></textarea>
                            <input type="number" placeholder="Discount %" class="service-discount"
                                data-service="ecommerce" min="0" max="100" step="0.01"
                                style="margin-top: 8px; width: 100%; padding: 10px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 0.9em;">
                        </div>
                    </div>

                    <div class="service-item">
                        <div class="service-header">
                            <input type="checkbox" class="service-checkbox" data-service="analytics">
                            <span class="service-name">Analytics & Reporting</span>
                        </div>
                        <div class="service-details">
                            <select class="service-package" data-service="analytics">
                                <option value="">Select Package</option>
                                <option value="basic">Basic Analytics</option>
                                <option value="advanced">Advanced Reports</option>
                                <option value="enterprise">Enterprise Analytics</option>
                                <option value="custom">Custom Package</option>
                            </select>
                            <div class="service-row">
                                <input type="number" placeholder="Enter Price" class="service-price"
                                    data-service="analytics">
                                <select class="service-type" data-service="analytics">
                                    <option value="one-time">One Time</option>
                                    <option value="ongoing">Ongoing</option>
                                    <option value="days">X Days Project</option>
                                    <option value="weeks">X Weeks Project</option>
                                    <option value="months">X Months Project</option>
                                </select>
                            </div>
                            <input type="number" placeholder="Enter duration" class="service-duration"
                                data-service="analytics" style="display: none;" min="1">
                            <textarea placeholder="Describe what this service will include..."
                                class="service-description" data-service="analytics" rows="2"
                                style="margin-top: 8px; width: 100%; padding: 10px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 0.9em; resize: vertical;"></textarea>
                            <input type="number" placeholder="Discount %" class="service-discount"
                                data-service="analytics" min="0" max="100" step="0.01"
                                style="margin-top: 8px; width: 100%; padding: 10px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 0.9em;">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Additional Notes</label>
                    <textarea id="notes" rows="4"
                        placeholder="Add any special terms, conditions, or additional information..."></textarea>
                </div>
            </div>

            <div class="preview-section">
                <h2 class="section-title">Live Preview</h2>
                <div id="quotePreview" class="quote-preview">
                    <!-- Quote content will be generated here -->
                </div>

                <div class="action-buttons">
                    <button class="btn" onclick="printQuote()">🖨️ Print Quote</button>
                    <button class="btn" onclick="copyQuote()">📋 Copy Link</button>
                </div>
            </div>
        </div>
    </div>

    <script>

        // Set default date (30 days from now)
        const today = new Date();
        const futureDate = new Date(today.getTime() + 30 * 24 * 60 * 60 * 1000);
        document.getElementById('validUntil').value = futureDate.toISOString().split('T')[0];

        // Auto-generate quote number
        document.getElementById('quoteNumber').value = 'QT-' + Date.now().toString().slice(-6);

        // Real-time preview update
        function updatePreview() {
            const companyName = document.getElementById('companyName').value || 'Empire Digisol';
            const clientName = document.getElementById('clientName').value || 'Client Name';
            const clientEmail = document.getElementById('clientEmail').value || 'client@email.com';
            const quoteNumber = document.getElementById('quoteNumber').value || 'QT-001';
            const currency = document.getElementById('currency').value;
            const taxRate = parseFloat(document.getElementById('taxRate').value) || 0;
            const validUntil = document.getElementById('validUntil').value;
            const notes = document.getElementById('notes').value;

            let selectedServices = [];
            let subtotal = 0;

            // Collect selected services using new package system
            let totalDiscount = 0;
            document.querySelectorAll('.service-checkbox:checked').forEach(checkbox => {
                const service = checkbox.dataset.service;
                const serviceName = checkbox.parentElement.querySelector('.service-name').textContent;
                const packageSelect = document.querySelector(`.service-package[data-service="${service}"]`);
                const priceInput = document.querySelector(`.service-price[data-service="${service}"]`);
                const typeSelect = document.querySelector(`.service-type[data-service="${service}"]`);
                const durationInput = document.querySelector(`.service-duration[data-service="${service}"]`);
                const descriptionInput = document.querySelector(`.service-description[data-service="${service}"]`);
                const discountInput = document.querySelector(`.service-discount[data-service="${service}"]`);

                let packageName = '';
                let price = 0;
                let serviceType = '';
                let description = '';
                let discount = 0;

                // Get package name
                if (packageSelect && packageSelect.value) {
                    packageName = packageSelect.options[packageSelect.selectedIndex].text;
                }

                // Get price
                if (priceInput && priceInput.value) {
                    price = parseFloat(priceInput.value) || 0;
                }

                // Get discount percentage
                if (discountInput && discountInput.value) {
                    discount = parseFloat(discountInput.value) || 0;
                }

                if (descriptionInput && descriptionInput.value) {
                    description = descriptionInput.value.trim();
                }

                // Get service type with duration
                if (typeSelect && typeSelect.value) {
                    const typeValue = typeSelect.value;
                    if (typeValue === 'one-time') {
                        serviceType = 'One Time';
                    } else if (typeValue === 'ongoing') {
                        serviceType = 'Ongoing';
                    } else if (['days', 'weeks', 'months'].includes(typeValue)) {
                        if (durationInput && durationInput.value) {
                            const duration = parseInt(durationInput.value) || 1;
                            if (typeValue === 'days') {
                                serviceType = `${duration} Day${duration > 1 ? 's' : ''} Project`;
                            } else if (typeValue === 'weeks') {
                                serviceType = `${duration} Week${duration > 1 ? 's' : ''} Project`;
                            } else if (typeValue === 'months') {
                                serviceType = `${duration} Month${duration > 1 ? 's' : ''} Project`;
                            }
                        }
                    }
                }

                // Add service if price is entered
                if (price > 0) {
                    const discountAmount = (price * discount) / 100;
                    const discountedPrice = price - discountAmount;
                    
                    subtotal += discountedPrice;
                    totalDiscount += discountAmount;
                    
                    selectedServices.push({
                        name: serviceName,
                        package: packageName || 'Custom Package',
                        originalPrice: price,
                        discountPercent: discount,
                        discountAmount: discountAmount,
                        price: discountedPrice,
                        type: serviceType || 'One Time',
                        description: description || `Professional ${serviceName.toLowerCase()} service`
                    });
                }
            });
            const taxAmount = (subtotal * taxRate) / 100;
            const finalTotal = subtotal + taxAmount;

            // Get logo if uploaded
            const logoImage = document.getElementById('logoImage');
            const logoHTML = logoImage && logoImage.src && logoImage.style.display !== 'none' ?
                `<img src="${logoImage.src}" class="company-logo" style="max-height: 60px; max-width: 100px; margin-right: 15px; border-radius: 5px;">` : '';

            // Generate HTML preview
            const previewHTML = `
                <div class="quote-header">
                    <div class="company-header">
                        ${logoHTML}
                        <div class="company-name">${companyName}</div>
                    </div>
                    <div class="quote-title">Professional Service Quotation</div>
                    <div style="font-size: 1em; margin-top: 10px;">Quote #${quoteNumber}</div>
                </div>
                
                <div class="quote-details">
                    <div class="detail-section">
                        <h4>Bill To:</h4>
                        <p><strong>${clientName}</strong></p>
                        <p>${clientEmail}</p>
                    </div>
                    <div class="detail-section">
                        <h4>Quote Details:</h4>
                        <p><strong>Date:</strong> ${new Date().toLocaleDateString()}</p>
                        <p><strong>Valid Until:</strong> ${validUntil ? new Date(validUntil).toLocaleDateString() : 'N/A'}</p>
                        <p><strong>Currency:</strong> ${currency}</p>
                    </div>
                </div>
                
                ${selectedServices.length > 0 ? `
                <table class="services-table">
                    <thead>
                        <tr>
                            <th>Service Description</th>
                            <th>Qty</th>
                            <th>Service Type</th>
                            <th>Rate</th>
                            <th>Total</th>
                        </tr>
                    </thead>
                    <tbody>
                            ${selectedServices.map(service => `
                            <tr>
                                <td>
                                    <strong>${service.name}</strong><br>
                                    <small style="color: #6b7280;">${service.package}</small>
                                    ${service.description ? `<br><em style="color: #4a5568; font-size: 0.85em;">${service.description}</em>` : ''}
                                    ${service.discountPercent > 0 ? `<br><small style="color: #059669; font-weight: 600;">Discount: ${service.discountPercent}% applied</small>` : ''}
                                </td>
                                <td>1</td>
                                <td>${service.type}</td>
                                <td><span class="currency-symbol">${currency}</span>${service.originalPrice.toLocaleString()}</td>
                                <td><span class="currency-symbol">${currency}</span>${service.price.toLocaleString()}</td>
                            </tr>
                            `).join('')}
                    </tbody>
                </table>
                
                <div class="total-section">
                    <div class="total-row">
                        <span>Subtotal:</span>
                        <span><span class="currency-symbol">${currency}</span>${subtotal.toLocaleString()}</span>
                    </div>
                    ${totalDiscount > 0 ? `
                    <div class="total-row">
                        <span>Total Discount Applied:</span>
                        <span style="color: #059669; font-weight: 600;">-<span class="currency-symbol">${currency}</span>${totalDiscount.toLocaleString()}</span>
                    </div>` : ''}
                    ${taxRate > 0 ? `
                    <div class="total-row">
                        <span>Tax (${taxRate}%):</span>
                        <span><span class="currency-symbol">${currency}</span>${taxAmount.toLocaleString()}</span>
                    </div>` : ''}
                    <div class="total-row final-total">
                        <span>Total Amount:</span>
                        <span><span class="currency-symbol">${currency}</span>${finalTotal.toLocaleString()}</span>
                    </div>
                </div>
                ` : `
                <div style="text-align: center; padding: 40px; color: #6b7280;">
                    <h3>No services selected</h3>
                    <p>Please select services from the left panel to generate your quote.</p>
                </div>
                `}
                
                ${notes ? `
                <div style="margin-top: 30px; padding: 20px; background: #f8fafc; border-radius: 10px; border-left: 4px solid #4facfe;">
                    <h4 style="margin-bottom: 10px; color: #2d3748;">Additional Notes:</h4>
                    <p style="color: #4a5568; line-height: 1.6;">${notes}</p>
                </div>
                ` : ''}
                
                <div class="quote-footer">
                    <p>Thank you for choosing ${companyName}! We look forward to working with you.</p>
                    <p style="margin-top: 10px; font-size: 0.9em;">This quote is valid until ${validUntil ? new Date(validUntil).toLocaleDateString() : 'specified date'}.</p>
                </div>
            `;

            document.getElementById('quotePreview').innerHTML = previewHTML;
        }


        // Get selected services helper function
        function getSelectedServices() {
            let selectedServices = [];
            document.querySelectorAll('.service-checkbox:checked').forEach(checkbox => {
                const service = checkbox.dataset.service;
                const serviceName = checkbox.parentElement.querySelector('.service-name').textContent;
                const packageSelect = document.querySelector(`.service-package[data-service="${service}"]`);
                const priceInput = document.querySelector(`.service-price[data-service="${service}"]`);
                const typeSelect = document.querySelector(`.service-type[data-service="${service}"]`);
                const durationInput = document.querySelector(`.service-duration[data-service="${service}"]`);

                let packageName = '';
                let price = 0;
                let serviceType = '';

                // Get package name
                if (packageSelect && packageSelect.value) {
                    packageName = packageSelect.options[packageSelect.selectedIndex].text;
                }

                // Get price
                if (priceInput && priceInput.value) {
                    price = parseFloat(priceInput.value) || 0;
                }

                // Get service type
                if (typeSelect && typeSelect.value) {
                    const typeValue = typeSelect.value;
                    if (typeValue === 'one-time') {
                        serviceType = 'One Time';
                    } else if (typeValue === 'ongoing') {
                        serviceType = 'Ongoing';
                    } else if (['days', 'weeks', 'months'].includes(typeValue)) {
                        if (durationInput && durationInput.value) {
                            const duration = parseInt(durationInput.value) || 1;
                            if (typeValue === 'days') {
                                serviceType = `${duration} Day${duration > 1 ? 's' : ''} Project`;
                            } else if (typeValue === 'weeks') {
                                serviceType = `${duration} Week${duration > 1 ? 's' : ''} Project`;
                            } else if (typeValue === 'months') {
                                serviceType = `${duration} Month${duration > 1 ? 's' : ''} Project`;
                            }
                        }
                    }
                }

                // Add service if all required fields are filled
                if (packageName && price > 0 && serviceType) {
                    selectedServices.push({
                        name: serviceName,
                        package: packageName,
                        price: price,
                        type: serviceType
                    });
                }
            });
            return selectedServices;
        }

        // Print quote function with A4 optimization
        function printQuote() {
            const printWindow = window.open('', '_blank');
            const quoteContent = document.getElementById('quotePreview').innerHTML;

            printWindow.document.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <title>Quote - ${document.getElementById('quoteNumber').value}</title>
                    <style>
                        /* A4 Paper Size: 210mm x 297mm (8.27in x 11.69in) */
                        @page {
                            size: A4;
                            margin: 20mm 15mm 20mm 15mm;
                        }
                        
                        body { 
                            font-family: 'Times New Roman', serif; 
                            font-size: 12pt;
                            line-height: 1.4;
                            margin: 0;
                            padding: 0;
                            width: 100%;
                            max-width: 180mm; /* A4 width minus margins */
                            color: #000;
                            background: white;
                        }
                        
                        .quote-header { 
                            text-align: center; 
                            margin-bottom: 25px; 
                            border-bottom: 2px solid #667eea; 
                            padding-bottom: 15px;
                            page-break-inside: avoid;
                        }
                        
                        .company-header {
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            gap: 15px;
                            margin-bottom: 5px;
                        }
                        
                        .company-logo {
                            max-height: 60px;
                            max-width: 100px;
                            border-radius: 5px;
                        }
                        
                        .company-name { 
                            font-size: 24pt; 
                            font-weight: bold;
                            margin-bottom: 8px; 
                            color: #2d3748;
                        }
                        
                        .quote-title { 
                            font-size: 16pt; 
                            color: #667eea; 
                            margin: 12px 0;
                            font-weight: bold;
                            text-transform: uppercase;
                            letter-spacing: 1px;
                        }
                        
                        .quote-details { 
                            display: grid; 
                            grid-template-columns: 1fr 1fr; 
                            gap: 20px; 
                            margin-bottom: 25px;
                            page-break-inside: avoid;
                        }
                        
                        .detail-section h4 {
                            font-size: 11pt;
                            font-weight: bold;
                            color: #4a5568;
                            margin-bottom: 8px;
                            text-transform: uppercase;
                        }
                        
                        .detail-section p {
                            font-size: 10pt;
                            margin: 4px 0;
                            color: #2d3748;
                        }
                        
                        .services-table { 
                            width: 100%; 
                            border-collapse: collapse; 
                            margin-bottom: 20px;
                            font-size: 10pt;
                        }
                        
                        .services-table th { 
                            background: #667eea !important; 
                            color: white !important; 
                            padding: 8px 6px; 
                            text-align: left;
                            font-weight: bold;
                            font-size: 9pt;
                            text-transform: uppercase;
                            letter-spacing: 0.5px;
                            -webkit-print-color-adjust: exact;
                            print-color-adjust: exact;
                        }
                        
                        .services-table td { 
                            padding: 8px 6px; 
                            border-bottom: 1px solid #e2e8f0;
                            vertical-align: top;
                        }
                        
                        .services-table tr:nth-child(even) {
                            background-color: #f8fafc !important;
                            -webkit-print-color-adjust: exact;
                            print-color-adjust: exact;
                        }
                        
                        .services-table strong {
                            font-weight: bold;
                            color: #2d3748;
                        }
                        
                        .services-table small {
                            font-size: 8pt;
                            color: #4a5568;
                            line-height: 1.3;
                            display: block;
                            margin-top: 2px;
                        }
                        
                        .total-section { 
                            background: #f8fafc !important; 
                            padding: 15px; 
                            border: 1px solid #e2e8f0;
                            margin-top: 20px;
                            page-break-inside: avoid;
                            -webkit-print-color-adjust: exact;
                            print-color-adjust: exact;
                        }
                        
                        .total-row { 
                            display: flex; 
                            justify-content: space-between; 
                            margin-bottom: 8px;
                            font-size: 11pt;
                        }
                        
                        .final-total { 
                            font-size: 14pt; 
                            font-weight: bold; 
                            border-top: 2px solid #667eea; 
                            padding-top: 12px; 
                            margin-top: 12px;
                            color: #2d3748;
                        }
                        
                        .quote-footer { 
                            margin-top: 25px; 
                            padding-top: 15px; 
                            border-top: 1px solid #e2e8f0; 
                            text-align: center;
                            font-size: 9pt;
                            color: #4a5568;
                            page-break-inside: avoid;
                        }
                        
                        .currency-symbol {
                            font-weight: bold;
                            color: #667eea;
                        }
                        
                        /* Print-specific styles */
                        @media print {
                            body { 
                                margin: 0 !important;
                                padding: 0 !important;
                                -webkit-print-color-adjust: exact;
                                print-color-adjust: exact;
                            }
                            
                            .quote-header {
                                page-break-after: avoid;
                            }
                            
                            .services-table {
                                page-break-inside: avoid;
                            }
                            
                            .services-table thead {
                                display: table-header-group;
                            }
                            
                            .total-section {
                                page-break-before: avoid;
                            }
                            
                            .quote-footer {
                                page-break-before: avoid;
                            }
                        }
                    </style>
                </head>
                <body>${quoteContent}</body>
                </html>
            `);

            printWindow.document.close();
            printWindow.focus();
            setTimeout(() => {
                printWindow.print();
                printWindow.close();
            }, 250);
        }

        // Copy quote link function (generates a shareable data URL)
        function copyQuote() {
            const quoteData = {
                companyName: document.getElementById('companyName').value,
                clientName: document.getElementById('clientName').value,
                clientEmail: document.getElementById('clientEmail').value,
                quoteNumber: document.getElementById('quoteNumber').value,
                currency: document.getElementById('currency').value,
                taxRate: document.getElementById('taxRate').value,
                validUntil: document.getElementById('validUntil').value,
                notes: document.getElementById('notes').value,
                services: getSelectedServices()
            };

            const encodedData = btoa(JSON.stringify(quoteData));
            const currentURL = window.location.href.split('?')[0];
            const shareableLink = `${currentURL}?quote=${encodedData}`;

            navigator.clipboard.writeText(shareableLink).then(() => {
                alert('Quote link copied to clipboard! You can share this link with your client.');
            }).catch(() => {
                // Fallback for browsers that don't support clipboard API
                const textArea = document.createElement('textarea');
                textArea.value = shareableLink;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('Quote link copied to clipboard! You can share this link with your client.');
            });
        }

        // Load quote from URL parameters if present
        function loadQuoteFromURL() {
            const urlParams = new URLSearchParams(window.location.search);
            const quoteData = urlParams.get('quote');

            if (quoteData) {
                try {
                    const decodedData = JSON.parse(atob(quoteData));

                    // Populate form fields
                    document.getElementById('companyName').value = decodedData.companyName || '';
                    document.getElementById('clientName').value = decodedData.clientName || '';
                    document.getElementById('clientEmail').value = decodedData.clientEmail || '';
                    document.getElementById('quoteNumber').value = decodedData.quoteNumber || '';
                    document.getElementById('currency').value = decodedData.currency || '$';
                    document.getElementById('taxRate').value = decodedData.taxRate || '18';
                    document.getElementById('validUntil').value = decodedData.validUntil || '';
                    document.getElementById('notes').value = decodedData.notes || '';

                    // Load services
                    if (decodedData.services) {
                        decodedData.services.forEach(service => {
                            const serviceName = service.name.toLowerCase().replace(/\s+/g, '').replace(/[^a-z]/g, '');
                            const serviceElement = document.querySelector(`[data-service="${serviceName}"]`);

                            if (serviceElement) {
                                serviceElement.checked = true;
                                document.querySelector(`.service-qty[data-service="${serviceName}"]`).value = service.quantity;
                                document.querySelector(`.service-price[data-service="${serviceName}"]`).value = service.price;
                                document.querySelector(`.service-unit[data-service="${serviceName}"]`).value = service.unit;
                            }
                        });
                    }

                    updatePreview();
                } catch (e) {
                    console.error('Error loading quote from URL:', e);
                }
            }
        }

        // Logo upload handler
        function handleLogoUpload(event) {
            const file = event.target.files[0];
            if (file && file.type.startsWith('image/')) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    const logoImage = document.getElementById('logoImage');
                    const logoPreview = document.getElementById('logoPreview');

                    logoImage.src = e.target.result;
                    logoImage.style.display = 'block';
                    logoPreview.style.display = 'block';

                    updatePreview();
                };
                reader.readAsDataURL(file);
            }
        }

        // Add event listeners for real-time updates
        document.addEventListener('DOMContentLoaded', function () {
            // Load quote from URL if present
            loadQuoteFromURL();

            // Add logo upload handler
            document.getElementById('companyLogo').addEventListener('change', handleLogoUpload);

            // Add event listeners to all form inputs
            const inputs = document.querySelectorAll('input, select, textarea');
            inputs.forEach(input => {
                input.addEventListener('input', updatePreview);
                input.addEventListener('change', updatePreview);
            });

            // Add event listeners for service type changes
            const typeSelects = document.querySelectorAll('.service-type');
            typeSelects.forEach(select => {
                select.addEventListener('change', function () {
                    const service = this.dataset.service;
                    const durationInput = document.querySelector(`.service-duration[data-service="${service}"]`);

                    if (['days', 'weeks', 'months'].includes(this.value)) {
                        durationInput.style.display = 'block';
                        durationInput.setAttribute('required', 'required');
                        // Set default values based on type
                        if (this.value === 'days' && !durationInput.value) {
                            durationInput.value = '7';
                        } else if (this.value === 'weeks' && !durationInput.value) {
                            durationInput.value = '2';
                        } else if (this.value === 'months' && !durationInput.value) {
                            durationInput.value = '3';
                        }
                    } else {
                        durationInput.style.display = 'none';
                        durationInput.removeAttribute('required');
                    }

                    updatePreview();
                });
            });


            // Initial preview update
            updatePreview();
        });

        // Auto-save functionality (using sessionStorage for demo)
        function autoSave() {
            const formData = {
                companyName: document.getElementById('companyName').value,
                clientName: document.getElementById('clientName').value,
                clientEmail: document.getElementById('clientEmail').value,
                quoteNumber: document.getElementById('quoteNumber').value,
                currency: document.getElementById('currency').value,
                taxRate: document.getElementById('taxRate').value,
                validUntil: document.getElementById('validUntil').value,
                notes: document.getElementById('notes').value
            };

            // Collect service data
            document.querySelectorAll('.service-checkbox').forEach(checkbox => {
                const service = checkbox.dataset.service;
                const packageSelect = document.querySelector(`.service-package[data-service="${service}"]`);
                const customPriceInput = document.querySelector(`.service-custom-price[data-service="${service}"]`);

                formData[`${service}_checked`] = checkbox.checked;
                formData[`${service}_package`] = packageSelect ? packageSelect.value : '';
                formData[`${service}_custom_price`] = customPriceInput ? customPriceInput.value : '';
            });

            try {
                sessionStorage.setItem('quoteData', JSON.stringify(formData));
            } catch (e) {
                // Storage not available, skip auto-save
            }
        }

        // Load auto-saved data
        function loadAutoSaved() {
            try {
                const savedData = sessionStorage.getItem('quoteData');
                if (savedData) {
                    const formData = JSON.parse(savedData);

                    // Restore form fields
                    Object.keys(formData).forEach(key => {
                        if (key.endsWith('_checked') || key.endsWith('_qty') || key.endsWith('_price') || key.endsWith('_unit')) {
                            return; // Handle these separately
                        }

                        const element = document.getElementById(key);
                        if (element) {
                            element.value = formData[key];
                        }
                    });

                    // Restore service data
                    document.querySelectorAll('.service-checkbox').forEach(checkbox => {
                        const service = checkbox.dataset.service;
                        if (formData[`${service}_checked`]) {
                            checkbox.checked = true;
                        }

                        const packageSelect = document.querySelector(`.service-package[data-service="${service}"]`);
                        const customPriceInput = document.querySelector(`.service-custom-price[data-service="${service}"]`);

                        if (packageSelect && formData[`${service}_package`]) {
                            packageSelect.value = formData[`${service}_package`];

                            // Show custom price input if custom package is selected
                            const [packageType] = formData[`${service}_package`].split('|');
                            if (packageType === 'custom' && customPriceInput) {
                                customPriceInput.style.display = 'block';
                                if (formData[`${service}_custom_price`]) {
                                    customPriceInput.value = formData[`${service}_custom_price`];
                                }
                            }
                        }
                    });
                }
            } catch (e) {
                // Storage not available or corrupted data
            }
        }

        // Set up auto-save interval
        setInterval(autoSave, 5000); // Auto-save every 5 seconds

        // Load auto-saved data on page load
        document.addEventListener('DOMContentLoaded', function () {
            loadAutoSaved();
        });
    </script>
</body>

</html>
